# SONAR Agent Configuration Example
# This file demonstrates all available configuration options for the SONAR agent

# Agent Identity
# The agent uses a public key and token for authentication with the hub
# These are generated by the hub and should be kept secure
agent:
  # Port the agent listens on for connections from the hub
  listen: 45876
  
  # Public key from the hub (required for SSH connection)
  key: ""
  
  # Authentication token (required)
  token: ""
  
  # Hub URL for WebSocket connection
  hub_url: "ws://your-hub-url:8090"
  
  # Log level: debug, info, warn, error
  log_level: "info"

# Connection Settings
connection:
  # Reconnection settings
  reconnect_interval: 10s
  max_reconnect_attempts: 0  # 0 = unlimited
  
  # Connection timeout
  timeout: 30s

# System Monitoring
monitoring:
  # Memory calculation formula (optional)
  # Options: available, used, etc.
  mem_calc: ""
  
  # Disk usage cache duration (optional)
  # Prevents frequent disk access for sleeping disks
  # Example: "15m", "1h"
  disk_usage_cache: ""
  
  # Network interfaces to monitor (optional)
  # If not specified, all interfaces are monitored
  network_interfaces: []
  
  # Temperature sensors (optional)
  sensors:
    enabled: true
    
  # GPU monitoring (optional)
  gpu:
    enabled: true
    
  # SMART monitoring (optional)
  smart:
    enabled: true

# Docker/Container Monitoring
docker:
  # Enable Docker container monitoring
  enabled: true
  
  # Docker socket path
  socket: "/var/run/docker.sock"

# Systemd Service Monitoring (Linux only)
systemd:
  # Enable systemd service monitoring
  enabled: true

# Additional Filesystems
# Mount additional filesystems for monitoring
# Each entry should be mounted as /extra-filesystems/<name>
filesystems: []
  # - name: "disk1"
  #   path: "/extra-filesystems/disk1"

# Security Settings
security:
  # Enable command execution (Phase 0.1: not implemented)
  allow_commands: false
  
  # Enable service management (Phase 0.1: not implemented)
  allow_service_management: false
  
  # Enable file operations (Phase 0.1: not implemented)
  allow_file_operations: false
  
  # Allowed command whitelist (Phase 0.1: not implemented)
  command_whitelist: []
  
  # Restricted paths for file operations (Phase 0.1: not implemented)
  restricted_paths: []

# Data Persistence
data:
  # Directory for storing agent data
  # Default: /var/lib/sonar-agent
  dir: "/var/lib/sonar-agent"
